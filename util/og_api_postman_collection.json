{
	"info": {
		"_postman_id": "a928db1b-3993-4981-ae2d-aefe3c697d0d",
		"name": "OperationsGateway API",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "7069916"
	},
	"item": [
		{
			"name": "Auth",
			"item": [
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody);\r",
									"pm.globals.set(\"og-access-token\", jsonData);\r",
									"\r",
									"var setCookieValue = pm.response.headers.get(\"set-cookie\");\r",
									"var refreshCookieValue = setCookieValue.substring(setCookieValue.indexOf(\"=\")+1, setCookieValue.indexOf(\";\"));\r",
									"pm.globals.set(\"og-refresh-token\", refreshCookieValue);\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"username\": \"\",\r\n  \"password\": \"\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{og-api}}/login",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"login"
							],
							"query": [
								{
									"key": "",
									"value": "",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Verify access token",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"token\": \"{{og-access-token}}\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{og-api}}/verify",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"verify"
							]
						}
					},
					"response": []
				},
				{
					"name": "Refresh access token",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody);\r",
									"pm.globals.set(\"og-access-token\", jsonData);\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Cookie",
								"value": "refresh_token={{og-refresh-token}}",
								"type": "default"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"token\": \"{{og-access-token}}\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{og-api}}/refresh",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"refresh"
							]
						}
					},
					"response": []
				}
			],
			"auth": {
				"type": "bearer",
				"bearer": [
					{
						"key": "token",
						"value": "{{og-access-token}}",
						"type": "string"
					}
				]
			}
		},
		{
			"name": "Channels",
			"item": [
				{
					"name": "Get Channels",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{og-api}}/channels",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"channels"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Channel By Name",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{og-api}}/channels/PM-201-TJ-CAM-2-FWHMX",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"channels",
								"PM-201-TJ-CAM-2-FWHMX"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Channel Summary",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{og-api}}/channels/summary/PM-201-HJ-CAM-2",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"channels",
								"summary",
								"PM-201-HJ-CAM-2"
							]
						}
					},
					"response": []
				}
			],
			"auth": {
				"type": "bearer",
				"bearer": [
					{
						"key": "token",
						"value": "{{og-access-token}}",
						"type": "string"
					}
				]
			}
		},
		{
			"name": "Experiments",
			"item": [
				{
					"name": "Get Scheduler Experiments",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{og-api}}/experiments",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"experiments"
							]
						}
					},
					"response": []
				},
				{
					"name": "Store Scheduler Experiments",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{og-api}}/experiments",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"experiments"
							]
						}
					},
					"response": []
				}
			],
			"auth": {
				"type": "bearer",
				"bearer": [
					{
						"key": "token",
						"value": "{{og-access-token}}",
						"type": "string"
					}
				]
			},
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Functions",
			"item": [
				{
					"name": "Get Tokens",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{og-api}}/functions/tokens",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"functions",
								"tokens"
							]
						}
					},
					"response": []
				},
				{
					"name": "Validate",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "[\r\n    {\"name\": \"scalar_operation\", \"expression\": \"TS-202-TSM-P1-CAM-2-CENX / 10\"},\r\n    {\"name\": \"waveform_operation\", \"expression\": \"CM-202-CVC-SP - 737\"},\r\n    {\"name\": \"image_operation\", \"expression\": \"FE-204-NSO-P1-CAM-1 - 1\"},\r\n    {\"name\": \"a\", \"expression\": \"mean(image_operation - scalar_operation) + waveform_operation\"}\r\n]",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{og-api}}/functions/validate",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"functions",
								"validate"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Ingestion",
			"item": [
				{
					"name": "Submit HDF File",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"description": "Upload your own HDF file created by the OG-HDF5 converter",
									"type": "file",
									"src": [],
									"disabled": true
								}
							]
						},
						"url": {
							"raw": "{{og-api}}/submit/hdf",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"submit",
								"hdf"
							]
						}
					},
					"response": []
				},
				{
					"name": "Submit Channel Manifest",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"type": "file",
									"src": [],
									"disabled": true
								}
							]
						},
						"url": {
							"raw": "{{og-api}}/submit/manifest",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"submit",
								"manifest"
							],
							"query": [
								{
									"key": "bypass_channel_check",
									"value": "true",
									"disabled": true
								}
							]
						}
					},
					"response": []
				}
			],
			"auth": {
				"type": "bearer",
				"bearer": [
					{
						"key": "token",
						"value": "{{og-access-token}}",
						"type": "string"
					}
				]
			}
		},
		{
			"name": "Records",
			"item": [
				{
					"name": "Get Records",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{og-api}}/records",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"records"
							],
							"query": [
								{
									"key": "limit",
									"value": "2",
									"description": "Limit 2 records",
									"disabled": true
								},
								{
									"key": "skip",
									"value": "5",
									"description": "Skip 35 records",
									"disabled": true
								},
								{
									"key": "order",
									"value": "metadata.shotnum asc",
									"description": "Order by shot number, ascending",
									"disabled": true
								},
								{
									"key": "order",
									"value": "_id desc",
									"description": "Order by id, descending",
									"disabled": true
								},
								{
									"key": "conditions",
									"value": "{\"_id\": {\"$eq\": \"20230604000000\"}}",
									"description": "Return records matching the given ID",
									"disabled": true
								},
								{
									"key": "conditions",
									"value": "{\"metadata.shotnum\": 423648000000}",
									"description": "Look for records WHERE shot number is 423648000000",
									"disabled": true
								},
								{
									"key": "conditions",
									"value": "{\"metadata.shotnum\": {\"$lt\": 423648180000}}",
									"description": "Return records with a shot number < 423648180000",
									"disabled": true
								},
								{
									"key": "conditions",
									"value": "{\"channels.CM-202-CVC-CAM-2-FWHMX.data\": {\"$lt\": 50}}",
									"description": "WHERE CM-202-CVC-CAM-2-FWHMX's data < 50",
									"disabled": true
								},
								{
									"key": "conditions",
									"value": "{\"channels.CM-202-CVC-SP.waveform_id\": {\"$eq\": \"20230605080000_CM-202-CVC-SP\"}}",
									"description": "Return record that matches the waveform ID",
									"disabled": true
								},
								{
									"key": "conditions",
									"value": "{\"$or\": [{\"metadata.shotnum\": {\"$eq\": 423648000000}}, {\"metadata.shotnum\": {\"$gt\": 423648038000}}]}",
									"description": "Condition using OR and equality operators",
									"disabled": true
								},
								{
									"key": "conditions",
									"value": "{\"$and\": [{\"metadata.timestamp\": {\"$gt\": \"2023-06-04T00:00:00\", \"$lt\": \"2023-06-04T00:30:00\"}}]}",
									"description": "Search by date",
									"disabled": true
								},
								{
									"key": "conditions",
									"value": "{\"channels.TS-202-TSM-P1-CAM-2-CENX\": {\"$exists\": true}}",
									"description": "Return records where TS-202-TSM-P1-CAM-2-CENX channel exists",
									"disabled": true
								},
								{
									"key": "conditions",
									"value": "{\"channels.CM-202-CVC-SP\": {\"$exists\": true}}",
									"description": "Return records where CM-202-CVC-SP channel exists",
									"disabled": true
								},
								{
									"key": "conditions",
									"value": "{\"channels.FE-204-NSO-P1-CAM-1\": {\"$exists\": true}}",
									"description": "Return records where FE-204-NSO-P1-CAM-1 channel exists",
									"disabled": true
								},
								{
									"key": "conditions",
									"value": "{\"channels.FE-204-NSO-P2-CAM-2.data\": {\"$exists\": false}}",
									"description": "Return records that do not have data for the FE-204-NSO-P2-CAM-2 channel",
									"disabled": true
								},
								{
									"key": "conditions",
									"value": "{\"metadata.shotnum\": {\"$exists\": true}}",
									"description": "Return only environmental data",
									"disabled": true
								},
								{
									"key": "projection",
									"value": "metadata.shotnum",
									"description": "Return shot numbers only. Use multiple projection parameters to select multiple fields",
									"disabled": true
								},
								{
									"key": "projection",
									"value": "metadata.timestamp",
									"description": "Return timestamps only",
									"disabled": true
								},
								{
									"key": "projection",
									"value": "channels.PM-201-HJ-CRY-FAN",
									"description": "Return PM-201-HJ-CRY-FAN only",
									"disabled": true
								},
								{
									"key": "truncate",
									"value": "true",
									"description": "Truncate base64 thumbnail outputs",
									"disabled": true
								},
								{
									"key": "projection",
									"value": "channels.CM-202-CVC-CAM-1.thumbnail",
									"disabled": true
								},
								{
									"key": "projection",
									"value": "channels.CM-202-CVC-CAM-1.metadata.channel_dtype",
									"disabled": true
								},
								{
									"key": "lower_level",
									"value": "50",
									"disabled": true
								},
								{
									"key": "upper_level",
									"value": "200",
									"disabled": true
								},
								{
									"key": "colourmap_name",
									"value": "jet_r",
									"disabled": true
								},
								{
									"key": "functions",
									"value": "{\"name\": \"a\", \"expression\": \"36 / 6 * 3 %2B 2**2 - (3 %2B 5)\"}",
									"description": "Record independent operation order example, 14 expected",
									"disabled": true
								},
								{
									"key": "functions",
									"value": "{\"name\": \"b\", \"expression\": \"log(a)\"}",
									"description": "Dependent on other function output, ~2.64 expected",
									"disabled": true
								},
								{
									"key": "functions",
									"value": "{\"name\": \"scalar_operation\", \"expression\": \"TS-202-TSM-P1-CAM-2-CENX / 10\"}",
									"description": "Operator on a scalar channel",
									"disabled": true
								},
								{
									"key": "functions",
									"value": "{\"name\": \"waveform_operation\", \"expression\": \"CM-202-CVC-SP - 737\"}",
									"description": "Operator on a waveform channel",
									"disabled": true
								},
								{
									"key": "functions",
									"value": "{\"name\": \"waveform_element_wise\", \"expression\": \"log(CM-202-CVC-SP)\"}",
									"description": "Element-wise on a waveform channel",
									"disabled": true
								},
								{
									"key": "functions",
									"value": "{\"name\": \"waveform_reductive\", \"expression\": \"mean(CM-202-CVC-SP)\"}",
									"description": "Reductive function on a waveform channel",
									"disabled": true
								},
								{
									"key": "functions",
									"value": "{\"name\": \"image_operation\", \"expression\": \"FE-204-NSO-P1-CAM-1 - 1\"}",
									"description": "Operator on an image channel",
									"disabled": true
								},
								{
									"key": "functions",
									"value": "{\"name\": \"image_element_wise\", \"expression\": \"log(FE-204-NSO-P1-CAM-1)\"}",
									"description": "Element-wise on an image channel",
									"disabled": true
								},
								{
									"key": "functions",
									"value": "{\"name\": \"image_reductive\", \"expression\": \"mean(FE-204-NSO-P1-CAM-1)\"}",
									"description": "Reductive function on an image channel",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Count Records",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{og-api}}/records/count",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"records",
								"count"
							],
							"query": [
								{
									"key": "conditions",
									"value": "{\"metadata.shotnum\": 423648180000}",
									"description": "WHERE shot number = 423648180000",
									"disabled": true
								},
								{
									"key": "conditions",
									"value": "{\"metadata.shotnum\": {\"$lt\": 423648180000}}",
									"description": "WHERE shot number < 423648180000",
									"disabled": true
								},
								{
									"key": "conditions",
									"value": "{\"$or\": [{\"metadata.shotnum\": {\"$eq\": 423648000000}}, {\"metadata.shotnum\": {\"$gt\": 423648038000}}]}",
									"description": "WHERE shot number = 423648000000 OR shot number > 423648038000",
									"disabled": true
								},
								{
									"key": "conditions",
									"value": "{\"channels.CM-202-CVC-CAM-2-FWHMX.data\": {\"$lt\": 50}}",
									"description": "WHERE N_COMP_FF_XPOS's data < 50",
									"disabled": true
								},
								{
									"key": "conditions",
									"value": "{\"$and\": [{\"metadata.timestamp\": {\"$gt\": \"2023-06-04T00:00:00\", \"$lt\": \"2023-06-04T00:30:00\"}}]}",
									"description": "WHERE timestamp > _ AND < _",
									"disabled": true
								},
								{
									"key": "conditions",
									"value": "{\"channels.CM-202-CVC-SP\": {\"$exists\": true}}",
									"description": "WHERE the N_COMP_SPEC_TRACE channel exists",
									"disabled": true
								},
								{
									"key": "conditions",
									"value": "{\"metadata.shotnum\": {\"$exists\": false}}",
									"description": "WHERE record is environmental data",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Record By ID",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{og-api}}/records/20230604000000",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"records",
								"20230604000000"
							],
							"query": [
								{
									"key": "lower_level",
									"value": "50",
									"disabled": true
								},
								{
									"key": "upper_level",
									"value": "200",
									"disabled": true
								},
								{
									"key": "colourmap_name",
									"value": "jet_r",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Record By ID",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{og-api}}/records/20230604000000",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"records",
								"20230604000000"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Waveform By ID",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{og-api}}/waveforms/20230605080000/CM-202-CVC-SP",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"waveforms",
								"20230605080000",
								"CM-202-CVC-SP"
							]
						}
					},
					"response": []
				},
				{
					"name": "Convert Date Range & Shot Number Range",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{og-api}}/records/range_converter",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"records",
								"range_converter"
							],
							"query": [
								{
									"key": "date_range",
									"value": "{\"from\": \"2022-04-07 14:16:19\", \"to\": \"2022-04-07 21:00:00\"}",
									"disabled": true
								},
								{
									"key": "shotnum_range",
									"value": "{\"min\": 366272, \"max\": 366279}",
									"disabled": true
								}
							]
						}
					},
					"response": []
				}
			],
			"auth": {
				"type": "bearer",
				"bearer": [
					{
						"key": "token",
						"value": "{{og-access-token}}",
						"type": "string"
					}
				]
			}
		},
		{
			"name": "Images",
			"item": [
				{
					"name": "Get Image",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{og-api}}/images/20230605080000/CM-202-CVC-CAM-1?functions={\"name\": \"a\", \"expression\": \"CM-202-CVC-CAM-1 %2B 1280\"}",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"images",
								"20230605080000",
								"CM-202-CVC-CAM-1"
							],
							"query": [
								{
									"key": "original_image",
									"value": "true",
									"disabled": true
								},
								{
									"key": "lower_level",
									"value": "50",
									"disabled": true
								},
								{
									"key": "upper_level",
									"value": "10",
									"disabled": true
								},
								{
									"key": "colourmap_name",
									"value": "jet_r",
									"disabled": true
								},
								{
									"key": "functions",
									"value": "{\"name\": \"a\", \"expression\": \"CM-202-CVC-CAM-1 %2B 1280\"}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Crosshair Intensity",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{og-api}}/images/20230605080000/CM-202-CVC-CAM-1/crosshair?functions={\"name\": \"a\", \"expression\": \"CM-202-CVC-CAM-1 %2B 1280\"}",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"images",
								"20230605080000",
								"CM-202-CVC-CAM-1",
								"crosshair"
							],
							"query": [
								{
									"key": "position",
									"value": "[550, 650]",
									"description": "Optional position of the crosshairs, otherwise centroid is used.",
									"disabled": true
								},
								{
									"key": "functions",
									"value": "{\"name\": \"a\", \"expression\": \"CM-202-CVC-CAM-1 %2B 1280\"}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get colour bar image",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{og-api}}/images/colour_bar",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"images",
								"colour_bar"
							],
							"query": [
								{
									"key": "lower_level",
									"value": "75",
									"disabled": true
								},
								{
									"key": "upper_level",
									"value": "175",
									"disabled": true
								},
								{
									"key": "colourmap_name",
									"value": "jet_r",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get colourmap names",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{og-api}}/images/colourmap_names",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"images",
								"colourmap_names"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "User Sessions",
			"item": [
				{
					"name": "Save Session",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"config\": {\r\n    \"urls\": {\r\n      \"apiUrl\": \"\"\r\n    },\r\n    \"recordLimitWarning\": 20,\r\n    \"pluginHost\": \"http://localhost:3000\",\r\n    \"settingsLoaded\": true\r\n  },\r\n  \"table\": {\r\n    \"columnStates\": {},\r\n    \"selectedColumnIds\": [\r\n      \"timestamp\",\r\n      \"CHANNEL_ABCDE\"\r\n    ],\r\n    \"page\": 0,\r\n    \"resultsPerPage\": 25,\r\n    \"sort\": {}\r\n  },\r\n  \"search\": {\r\n    \"searchParams\": {\r\n      \"dateRange\": {},\r\n      \"shotnumRange\": {},\r\n      \"maxShots\": 50\r\n    }\r\n  },\r\n  \"plots\": {},\r\n  \"filter\": {\r\n    \"appliedFilters\": [\r\n      []\r\n    ]\r\n  },\r\n  \"windows\": {}\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{og-api}}/sessions?summary=Summary of my session&auto_saved=true&name=My User Session",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"sessions"
							],
							"query": [
								{
									"key": "summary",
									"value": "Summary of my session"
								},
								{
									"key": "auto_saved",
									"value": "true"
								},
								{
									"key": "name",
									"value": "My User Session"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Session",
					"request": {
						"method": "PATCH",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"config\": {\r\n    \"urls\": {\r\n      \"apiUrl\": \"\"\r\n    },\r\n    \"recordLimitWarning\": 20,\r\n    \"pluginHost\": \"http://localhost:3000\",\r\n    \"settingsLoaded\": true\r\n  },\r\n  \"table\": {\r\n    \"columnStates\": {},\r\n    \"selectedColumnIds\": [\r\n      \"timestamp\",\r\n      \"CHANNEL_ABCDE\"\r\n    ],\r\n    \"page\": 0,\r\n    \"resultsPerPage\": 25,\r\n    \"sort\": {}\r\n  },\r\n  \"search\": {\r\n    \"searchParams\": {\r\n      \"dateRange\": {},\r\n      \"shotnumRange\": {},\r\n      \"maxShots\": 50\r\n    }\r\n  },\r\n  \"plots\": {},\r\n  \"filter\": {\r\n    \"appliedFilters\": [\r\n      []\r\n    ]\r\n  },\r\n  \"windows\": {}\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{og-api}}/sessions/646cdda1a393909af29784fa?name=My Session&summary=Summary of my session&auto_saved=false",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"sessions",
								"646cdda1a393909af29784fa"
							],
							"query": [
								{
									"key": "name",
									"value": "My Session"
								},
								{
									"key": "summary",
									"value": "Summary of my session"
								},
								{
									"key": "auto_saved",
									"value": "false"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Session",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{og-api}}/sessions/646cdda1a393909af29784fa",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"sessions",
								"646cdda1a393909af29784fa"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Session List",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{og-api}}/sessions/list",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"sessions",
								"list"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Session",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{og-api}}/sessions/646cdda1a393909af29784fa",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"sessions",
								"646cdda1a393909af29784fa"
							]
						}
					},
					"response": []
				}
			],
			"auth": {
				"type": "bearer",
				"bearer": [
					{
						"key": "token",
						"value": "{{og-access-token}}",
						"type": "string"
					}
				]
			}
		},
		{
			"name": "Users",
			"item": [
				{
					"name": "Get all Users",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{og-api}}/users",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "Add user",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"_id\": \"username\",\n  \"auth_type\": \"local\",\n  \"authorised_routes\": [\"/submit/hdf POST\", \"/experiments POST\"],\n  \"sha256_password\": \"password\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{og-api}}/users",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update user",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"_id\": \"username\",\n  \"updated_password\": \"password\",\n  \"add_authorised_routes\": [\"/submit/hdf POST\", \"/experiments POST\"],\n  \"remove_authorised_routes\": [\"/submit/hdf POST\"]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{og-api}}/users",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete user",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{og-api}}/users/username",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"users",
								"username"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "User Preferences",
			"item": [
				{
					"name": "Get User Preference",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{og-api}}/users/preferences/my_pref",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"users",
								"preferences",
								"my_pref"
							]
						}
					},
					"response": []
				},
				{
					"name": "Save User Preference string",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"name\": \"my_pref\",\n\t\"value\": \"my_value\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{og-api}}/users/preferences",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"users",
								"preferences"
							]
						}
					},
					"response": []
				},
				{
					"name": "Save User Preference int",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"name\": \"my_pref\",\n\t\"value\": 100\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{og-api}}/users/preferences",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"users",
								"preferences"
							]
						}
					},
					"response": []
				},
				{
					"name": "Save User Preference float",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"name\": \"my_pref\",\n\t\"value\": 3.1415927\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{og-api}}/users/preferences",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"users",
								"preferences"
							]
						}
					},
					"response": []
				},
				{
					"name": "Save User Preference bool",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"name\": \"my_pref\",\n\t\"value\": true\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{og-api}}/users/preferences",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"users",
								"preferences"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete User Preference",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{og-api}}/users/preferences/my_pref",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"users",
								"preferences",
								"my_pref"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Waveforms",
			"item": [
				{
					"name": "Get Waveform By ID",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{og-api}}/waveforms/20230605100000/CM-202-CVC-SP?functions={\"name\": \"a\", \"expression\": \"CM-202-CVC-SP - 737\"}",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"waveforms",
								"20230605100000",
								"CM-202-CVC-SP"
							],
							"query": [
								{
									"key": "functions",
									"value": "{\"name\": \"a\", \"expression\": \"CM-202-CVC-SP - 737\"}"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Data Export",
			"item": [
				{
					"name": "Export",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{og-api}}/export?conditions={\"_id\": {\"$in\": [\"20230605080000\",\"20230605090000\",\"20230605100000\",\"20230605110000\",\"20230605120000\"]}}&projection=_id&projection=metadata.shotnum&projection=metadata.timestamp&projection=metadata.epac_ops_data_version&projection=channels.FE-204-PSO-EM.data",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"export"
							],
							"query": [
								{
									"key": "limit",
									"value": "10",
									"description": "Limit 2 records",
									"disabled": true
								},
								{
									"key": "skip",
									"value": "0",
									"description": "Skip 35 records",
									"disabled": true
								},
								{
									"key": "order",
									"value": "metadata.shotnum asc",
									"description": "Order by shot number, ascending",
									"disabled": true
								},
								{
									"key": "order",
									"value": "_id desc",
									"description": "Order by id, descending",
									"disabled": true
								},
								{
									"key": "conditions",
									"value": "{\"_id\": {\"$in\": [\"20230605080000\",\"20230605090000\",\"20230605100000\",\"20230605110000\",\"20230605120000\"]}}",
									"description": "Specific record IDs"
								},
								{
									"key": "conditions",
									"value": "{\"$and\": [{\"metadata.timestamp\": {\"$gt\": \"2023-06-05T07:00:00\", \"$lt\": \"2023-06-05T13:00:00\"}}]}",
									"description": "Search by date",
									"disabled": true
								},
								{
									"key": "conditions",
									"value": "{\"_id\": {\"$eq\": \"20230605080000\"}}",
									"description": "Return records matching the given ID",
									"disabled": true
								},
								{
									"key": "conditions",
									"value": "{\"metadata.shotnum\": 423648000000}",
									"description": "Look for records WHERE shot number is 423648144000",
									"disabled": true
								},
								{
									"key": "conditions",
									"value": "{\"metadata.shotnum\": {\"$lt\": 423648144000}}",
									"description": "Return records with a shot number < 423648144000",
									"disabled": true
								},
								{
									"key": "conditions",
									"value": "{\"channels.FE-204-PSO-EM.data\": {\"$lt\": 9.5}}",
									"description": "WHERE N_COMP_FF_XPOS's data < 310",
									"disabled": true
								},
								{
									"key": "conditions",
									"value": "{\"$or\": [{\"metadata.shotnum\": {\"$eq\": 423648000000}}, {\"metadata.shotnum\": {\"$gt\": 423648108000}}]}",
									"description": "Condition using OR and equality operators",
									"disabled": true
								},
								{
									"key": "conditions",
									"value": "{\"channels.FE-204-PSO-EM\": {\"$exists\": true}}",
									"description": "Return records where FE-204-PSO-EM channel exists",
									"disabled": true
								},
								{
									"key": "conditions",
									"value": "{\"channels.FE-204-PSO-EM.data\": {\"$exists\": false}}",
									"description": "Return records that do not have data for the FE-204-PSO-EM channel",
									"disabled": true
								},
								{
									"key": "conditions",
									"value": "{\"metadata.shotnum\": {\"$exists\": false}}",
									"description": "Return only environmental data",
									"disabled": true
								},
								{
									"key": "lower_level",
									"value": "5",
									"disabled": true
								},
								{
									"key": "upper_level",
									"value": "15",
									"disabled": true
								},
								{
									"key": "colourmap_name",
									"value": "jet_r",
									"disabled": true
								},
								{
									"key": "export_waveform_images",
									"value": "True",
									"disabled": true
								},
								{
									"key": "export_waveform_csvs",
									"value": "False",
									"disabled": true
								},
								{
									"key": "export_images",
									"value": "False",
									"disabled": true
								},
								{
									"key": "export_scalars",
									"value": "False",
									"disabled": true
								},
								{
									"key": "projection",
									"value": "_id"
								},
								{
									"key": "projection",
									"value": "metadata.shotnum"
								},
								{
									"key": "projection",
									"value": "metadata.timestamp"
								},
								{
									"key": "projection",
									"value": "metadata.epac_ops_data_version"
								},
								{
									"key": "projection",
									"value": "channels.FE-204-PSO-EM.data"
								},
								{
									"key": "projection",
									"value": "channels.FE-204-PSO-CAM-1",
									"disabled": true
								},
								{
									"key": "projection",
									"value": "channels.FE-204-PSO-P1-SP",
									"disabled": true
								},
								{
									"key": "functions",
									"value": "{\"name\": \"scalar\", \"expression\": \"FE-204-PSO-EM %2B 1\"}",
									"description": "Function returning scalar",
									"disabled": true
								},
								{
									"key": "functions",
									"value": "{\"name\": \"waveform\", \"expression\": \"FE-204-PSO-P1-SP %2B (1 - 1)\"}",
									"description": "Function returning waveform",
									"disabled": true
								},
								{
									"key": "functions",
									"value": "{\"name\": \"image\", \"expression\": \"FE-204-PSO-CAM-1 %2B (1 - 1)\"}",
									"description": "Function returning image",
									"disabled": true
								},
								{
									"key": "projection",
									"value": "channels.scalar.data",
									"description": "Include scalar function",
									"disabled": true
								},
								{
									"key": "projection",
									"value": "channels.waveform",
									"description": "Include waveform function",
									"disabled": true
								},
								{
									"key": "projection",
									"value": "channels.image",
									"description": "Include image function",
									"disabled": true
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Favourite Filters",
			"item": [
				{
					"name": "Save Favourite Filter",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{og-api}}/users/filters?name=My Favourite Filter&filter=PM-201-HJ-CRY-FLOW > 4",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"users",
								"filters"
							],
							"query": [
								{
									"key": "name",
									"value": "My Favourite Filter"
								},
								{
									"key": "filter",
									"value": "PM-201-HJ-CRY-FLOW > 4"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Favourite Filter",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"url": {
							"raw": "{{og-api}}/users/filters/66055ee49dc258bbfd26bbfc?name=My Updated Favourite Filter&filter=PM-201-HJ-CRY-FLOW < 3.8",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"users",
								"filters",
								"66055ee49dc258bbfd26bbfc"
							],
							"query": [
								{
									"key": "name",
									"value": "My Updated Favourite Filter"
								},
								{
									"key": "filter",
									"value": "PM-201-HJ-CRY-FLOW < 3.8"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Favourite Filter List",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{og-api}}/users/filters",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"users",
								"filters"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Favourite Filter",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{og-api}}/users/filters/66055ee49dc258bbfd26bbfc",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"users",
								"filters",
								"66055ee49dc258bbfd26bbfc"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Favourite Filter",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{og-api}}/users/filters/66055ee49dc258bbfd26bbfc",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"users",
								"filters",
								"66055ee49dc258bbfd26bbfc"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Maintenance",
			"item": [
				{
					"name": "Get Maintenance",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{og-api}}/maintenance",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"maintenance"
							]
						}
					},
					"response": []
				},
				{
					"name": "Set Maintenance",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"show\": true,\r\n    \"message\": \"message\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{og-api}}/maintenance",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"maintenance"
							]
						}
					},
					"response": []
				},
				{
					"name": "Set Maintenance failure",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"show\": true,\r\n    \"message\": \"message\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{og-api}}/maintenance",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"maintenance"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Scheduled Maintenance",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{og-api}}/scheduled_maintenance",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"scheduled_maintenance"
							]
						}
					},
					"response": []
				},
				{
					"name": "Set Scheduled Maintenance",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{og-access-token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"show\": true,\r\n    \"message\": \"message\",\r\n    \"severity\": \"warning\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{og-api}}/scheduled_maintenance",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"scheduled_maintenance"
							]
						}
					},
					"response": []
				},
				{
					"name": "Set Scheduled Maintenance failure",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"show\": true,\r\n    \"message\": \"message\",\r\n    \"severity\": \"warning\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{og-api}}/scheduled_maintenance",
							"host": [
								"{{og-api}}"
							],
							"path": [
								"scheduled_maintenance"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "og-api",
			"value": "http://localhost:8000"
		},
		{
			"key": "og-api",
			"value": "https://opsgateway-epac-dev.clf.stfc.ac.uk/api",
			"disabled": true
		},
		{
			"key": "og-api",
			"value": "",
			"disabled": true
		}
	]
}
